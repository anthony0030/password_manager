<div class="flex justify-between items-center mb-5">
  <h1 class="mb-0">
    <%= @password.title %>
    <%= link_to @password.url, target: :_blank do %>
      <i class="fa-solid fa-arrow-up-right-from-square text-blue-500"></i>
    <% end %>
  </h1>
  <%= link_to("edit", edit_password_path, class: "btn btn-primary") %>
</div>

<div id="<%= dom_id(@password) %>">
  <div>
    <h6>Username / Email</h6>
    <div class="flex gap-1 mb-3">
      <pre class="m-0 flex-1"><code><%= @password.username %></code></pre>
        <%= button_tag data: { controller: "clipboard", action: "clipboard#copy", clipboard_content_value: @password.username }, class: "btn btn-light" do %>
        <i class="fa-solid fa-copy"></i>
      <% end %>
    </div>

    <h6>Password</h6>
    <div class="flex gap-1 mb-3">
      <pre class="m-0 flex-1"><code><%= @password.password %></code></pre>
        <%= button_tag data: { controller: "clipboard", action: "clipboard#copy", clipboard_content_value: @password.password }, class: "btn btn-light" do %>
        <i class="fa-solid fa-copy"></i>
      <% end %>
    </div>

  </div>
</div>

<h6>Share</h6>

<div class="flex flex-col divide-y divide-gray-100 gap-5">
  <%= link_to 'Add a user', new_password_share_path(@password) %>
  <% @password.users.excluding(current_user).each do |user|%>
    <div class="flex justify-between items-center">
      <div><%= user.email %></div>
      <%= button_to "Remove", password_share_path(@password, user), method: :delete, data: { turbo_confirm: "Are You Sure?" } %>
    </div>
  <% end %>
</div>
